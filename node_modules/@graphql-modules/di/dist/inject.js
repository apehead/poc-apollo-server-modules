"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = require("./utils");
function Inject(dependency) {
    return function (target, propertyKey, index) {
        var allDependencies = Reflect.getMetadata(utils_1.DESIGN_PARAM_TYPES, target) || [];
        var propertyKeys = Reflect.getMetadata(utils_1.PROPERTY_KEYS, target) || [];
        if (typeof propertyKey === 'undefined') {
            if (typeof index !== 'undefined') {
                allDependencies[index] = dependency;
            }
        }
        else {
            var designType = dependency || Reflect.getMetadata(utils_1.DESIGN_TYPE, target, propertyKey);
            Reflect.defineMetadata(utils_1.DESIGN_TYPE, designType, target, propertyKey);
            propertyKeys.push(propertyKey);
        }
        Reflect.defineMetadata(utils_1.DESIGN_PARAM_TYPES, allDependencies, target);
        Reflect.defineMetadata(utils_1.PROPERTY_KEYS, propertyKeys, target);
        return target;
    };
}
exports.Inject = Inject;
function InjectFunction() {
    var dependencies = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        dependencies[_i] = arguments[_i];
    }
    return function (target) {
        Reflect.defineMetadata(utils_1.DESIGN_PARAM_TYPES, dependencies, target);
        return target;
    };
}
exports.InjectFunction = InjectFunction;
//# sourceMappingURL=inject.js.map